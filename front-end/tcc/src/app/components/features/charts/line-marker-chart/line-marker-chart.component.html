<div class="card p-4 chart-custom">
  <div class="d-flex justify-content-between align-items-start">
    <div>
      <h5 class="mb-2">HistÃ³rico de NÃ­vel com AnÃ¡lise de Anomalias ({{ unidadeMedida }})</h5>
      <p class="mb-3">Pontos em vermelho indicam comportamentos fora do padrÃ£o.</p>
    </div>

    <div class="d-flex flex-wrap gap-2">
      <button class="btn btn-primary" (click)="exportarAnomaliaXls()">
        <i class="bi bi-file-earmark-spreadsheet"></i> Exportar XLS
      </button>
      <button class="btn btn-success" (click)="exportarAnomaliaPdf()">
        <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
      </button>
    </div>
  </div>

  <div *ngIf="chartVazio" class="alerta-vazio">
    Nenhum dado encontrado para o perÃ­odo selecionado.
  </div>

  <apx-chart
    #chart
    *ngIf="chartOptions && chartOptions.series && chartOptions.chart"
    [series]="chartOptions.series"
    [chart]="chartOptions.chart"
    [xaxis]="chartOptions.xaxis!"
    [yaxis]="chartOptions.yaxis!"
    [markers]="chartOptions.markers!"
    [stroke]="chartOptions.stroke!"
    [tooltip]="chartOptions.tooltip!"
    [dataLabels]="chartOptions.dataLabels!"
  ></apx-chart>

  <div class="mt-2 small">
    <span style="color: #0077b6;">ğŸ”µ</span> Valor normal &nbsp;&nbsp;
    <span style="color: #dc3545;">ğŸ”´</span> Anomalia detectada
  </div>
</div>
