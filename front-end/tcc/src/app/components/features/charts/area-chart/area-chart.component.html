<div class="card p-4 chart-custom">

  <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-2 gap-2">
    <div>
      <h5 class="mb-3">Evolução do Nível do Tanque ({{ unidadeMedida }})</h5>
      <p>
        Médias {{ filtros?.tipoMedicao === 2 ? 'horárias' : 'diárias' }}
        dos últimos {{ filtros?.dias ?? '--' }} {{ filtros?.tipoMedicao === 2 ? 'horários' : 'dias' }},
        extraídas automaticamente do CLP.
      </p>
    </div>

    <div class="d-flex flex-wrap gap-2">
      <button class="btn btn-primary" (click)="exportarNivel()">
        <i class="bi bi-file-earmark-spreadsheet"></i> Exportar XLS
      </button>
      <button class="btn btn-success" (click)="exportarNivelPDF()">
        <i class="bi bi-file-earmark-pdf"></i> Exportar PDF
      </button>
    </div>
  </div>

  <div *ngIf="chartVazio" class="alerta-vazio">
    Nenhum dado encontrado para o período selecionado.
  </div>

  <apx-chart
    #chartInstance
    *ngIf="chartOptions && chartOptions.series && chartOptions.chart"
    [series]="chartOptions.series!"
    [chart]="chartOptions.chart!"
    [xaxis]="chartOptions.xaxis!"
    [stroke]="chartOptions.stroke!"
    [dataLabels]="chartOptions.dataLabels!"
    [yaxis]="chartOptions.yaxis!"
    [legend]="chartOptions.legend!"
    [colors]="chartOptions.colors!"
    [tooltip]="chartOptions.tooltip!"
  ></apx-chart>
</div>

